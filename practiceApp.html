<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <link type="text/css" rel="stylesheet" href="reset.css"/>
    <link type="text/css" rel="stylesheet" href="practiceApp.css"/>

</head>
<body>

<div id="practiceApp">
    <app-nav>
        <ul>
            <nav-item v-for="item in navigation" v-bind:todo="item" v-bind:key="item.id"></nav-item>
        </ul>
    </app-nav>

    <app-view>
        <app-sidebar>
            <form id="main" v-cloak>

                <h1>Services</h1>

                <ul>
                    <!-- Loop through the services array, assign a click handler, and set or
                         remove the "active" css class if needed -->
                    <li v-for="service in services" v-on:click="toggleActive(service)" v-bind:class="{ 'active': service.active}">
                        <!-- Display the name and price for every entry in the array .
                            Vue.js has a built in currency filter for formatting the price -->
                        {{service.name}} <span>{{service.price | currency}}</span>
                    </li>
                </ul>

                <div class="total">
                    <!-- Calculate the total price of all chosen services. Format it as currency. -->
                    Total: <span>{{total() | currency}}</span>
                </div>

            </form>
        </app-sidebar>

        <app-content>


        </app-content>

    </app-view>
</div>







<script>

    Vue.component('nav-item', {
        props: ['todo'],
        template: '<li><a href="#"><span>{{ todo.text }}</span></a></li>'
    })
    var app7 = new Vue({
        el: 'app-nav',
        data: {
            navigation: [
                { id: 0, text: 'Home' },
                { id: 1, text: 'About Us' },
                { id: 2, text: 'Products' },
                { id: 3, text: 'Contact' },
                { id: 4, text: 'FAQ' }
            ]
        }
    })



    Vue.filter('currency', function (value) {
        return '$' + value.toFixed(2);
    });

    var demo = new Vue({
        el: '#main',
        data: {
            // Define the model properties. The view will loop
            // through the services array and genreate a li
            // element for every one of its items.
            services: [
                {
                    name: 'Web Development',
                    price: 300,
                    active:true
                },{
                    name: 'Design',
                    price: 400,
                    active:false
                },{
                    name: 'Integration',
                    price: 250,
                    active:false
                },{
                    name: 'Training',
                    price: 220,
                    active:false
                }
            ]
        },
        methods: {
            toggleActive: function(s){
                s.active = !s.active;
            },
            total: function(){

                var total = 0;

                this.services.forEach(function(s){
                    if (s.active){
                        total+= s.price;
                    }
                });

                return total;
            }
        }
    });



</script>


</body>
</html>